<!DOCTYPE html>
<html lang="en" class="no-js">

  <head>
  <meta charset="utf-8">
  <link href="/training-kit/preview/test-preview-fix/feed.xml" type="application/atom+xml" rel="alternate" title="GitHub Cheatsheets Feed">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400" rel="stylesheet">
  <link rel="stylesheet" href="/training-kit/preview/test-preview-fix/assets/css/index.css">

  

<!-- begin SEO -->









<title>Manejo de dependencias con Submódulos y Subárboles - GitHub Cheatsheets</title>






<meta name="description" content="Github Git Cheat Sheets Training Kit">
<meta property="description" content="Github Git Cheat Sheets Training Kit">
<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="GitHub Cheatsheets">
<meta property="og:title" content="Manejo de dependencias con Submódulos y Subárboles">


  <link rel="canonical" href="https://training.github.com/training-kit/preview/test-preview-fix/downloads/es_ES/submodule-vs-subtree-cheat-sheet/">
  <meta property="og:url" content="https://training.github.com/training-kit/preview/test-preview-fix/downloads/es_ES/submodule-vs-subtree-cheat-sheet/">




















<!-- end SEO -->


</head>


  <body style="min-height: 100vh;" class="d-flex flex-column">
    


<div class="bg-blue-darker py-3 f5 flex-none color-fg-on-emphasis">
  <header class="container-lg p-responsive site-header js-site-header d-block clearfix">
    <a class="no-underline color-fg-inherit text-bold d-flex flex-items-center lh-condensed-ultra float-left" href="/training-kit/preview/test-preview-fix/" aria-label="Git Cheat Sheets Main Page">
      <div class="mr-3"><svg class="octicon octicon-mark-github" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></div>
      
    </a>

    <button class="btn-link float-right site-header-toggle js-site-header-toggle" type="button" aria-label="Toggle navigation" aria-expanded="false">
      <svg class="octicon octicon-three-bars" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path></svg>
    </button>

    <nav class="site-header-menu float-none float-md-right py-1 mt-4 mt-md-0">
      <ul class="d-block d-md-flex list-style-none">
        
      </ul>
    </nav>
  </header>
</div>


    <main class="site-content">
      <div class="container-lg p-responsive">
  <div class="markdown-body d-flex flex-wrap gutter">
    <div class="col-md-12">
<h1>Agregar un nuevo Subproyecto</h1>
</div>

<div class="col-md-6">

<h3 id="submódulo">Submódulo</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git submodule add https://github.com/githubtraining/submodulo-ejemplo

git commit -m "agregando un nuevo submodulo"
</code></pre></div></div>

<p>El comando <code class="language-plaintext highlighter-rouge">submodule add</code> agrega un nuevo archivo llamado <code class="language-plaintext highlighter-rouge">.gitmodules</code> junto con un subdirectorio que contiene los archivos de <code class="language-plaintext highlighter-rouge">submodulo-ejemplo</code>. Ambos se agregan a tu index (staging area) y solo necesitas agregarlos a tu commit. El historial del submódulo permanecerá independiente del proyecto principal.</p>


</div>

<div class="col-md-6">

<h3 id="subárbol">Subárbol</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git subtree add --prefix=submodulo-ejemplo https://github.com/githubtraining/submodulo-ejemplo main --squash
</code></pre></div></div>

<p>El comando <code class="language-plaintext highlighter-rouge">subtree add</code> agrega un subdirectorio que contiene los archivos de <code class="language-plaintext highlighter-rouge">submodulo-ejemplo</code>. La práctica más común es utilizar la opción <code class="language-plaintext highlighter-rouge">--squash</code> para combinar el historial del subproyecto en un único commit, que luego se inserta en el árbol existente del proyecto principal. Se puede omitir la opción <code class="language-plaintext highlighter-rouge">--squash</code> para mantener todo el historial de la rama seleccionada del subproyecto.</p>


</div>

<div class="col-md-12">
<h1>Ver las diferencias de un Subproyecto</h1>
</div>

<div class="col-md-6">

<h3 id="submódulo">Submódulo</h3>

<p>Para ver las diferencias (<code class="language-plaintext highlighter-rouge">diff</code>) de un submódulo:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># mostrar cambios al commit del submódulo</span>
git diff submodulo-ejemplo
<span class="c"># mostrar una línea de los registros de los nuevos commits en el submódulo</span>
git diff <span class="nt">--submodule</span> submodulo-ejemplo
<span class="c"># mostrar cambios de los archivos en el submódulo</span>
git diff <span class="nt">--submodule</span><span class="o">=</span>diff
</code></pre></div></div>


</div>

<div class="col-md-6">

<h3 id="subárbol">Subárbol</h3>

<p>No se requiere ningún comando especial</p>


</div>

<div class="col-md-12">
<h1>Clonar un repositorio con Subproyecto</h1>
</div>

<div class="col-md-6">

<h3 id="submódulo">Submódulo</h3>

<p>Para clonar un repositorio junto con su submódulo:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone --recurse-submodules URL
</code></pre></div></div>

<p>Si no se utiliza <code class="language-plaintext highlighter-rouge">--recurse-submodules</code> se puede clonar e inicializar todos los submódulos:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git submodule update --init --recursive
</code></pre></div></div>

<p>Utilizar <code class="language-plaintext highlighter-rouge">--recursive</code> solo es necesario si algún submódulo tiene submódulos.</p>


</div>

<div class="col-md-6">

<h3 id="subárbol">Subárbol</h3>

<p>No se requiere ningún comando especial</p>


</div>

<div class="col-md-12">
<h1>Descargar actualizaciones de Superproyectos</h1>
</div>

<div class="col-md-6">

<h3 id="submódulo">Submódulo</h3>

<p>De forma predeterminada, el repositorio del submódulo se recupera, pero no se actualiza cuando ejecuta <code class="language-plaintext highlighter-rouge">git pull</code> en el superproyecto.
Se necesita usar <code class="language-plaintext highlighter-rouge">git submodule update</code>, o agregar <code class="language-plaintext highlighter-rouge">--recurse-submodules</code> a <code class="language-plaintext highlighter-rouge">pull</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git pull
git submodule update <span class="nt">--init</span> <span class="nt">--recursive</span>
<span class="c"># o, en un comando (Git &gt;= 2.14)</span>
git pull <span class="nt">--recurse-submodules</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">--init</code> es necesario si el superproyecto agregó nuevos submódulos, y <code class="language-plaintext highlighter-rouge">--recursive</code> es necesario si algún submódulo tiene submódulos.</p>

<p>Si alguna vez el superproyecto cambia la URL del submódulo, se requiere un comando por separado:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># copia la nueva URL a to configuración local</span>
git submodule <span class="nb">sync</span> <span class="nt">--recursive</span>
<span class="c"># actualiza el submodulo desde la nueva URL</span>
git submodule update <span class="nt">--init</span> <span class="nt">--recursive</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">--recursive</code> solo es necesario si algún submódulo tiene submódulos.</p>


</div>

<div class="col-md-6">

<h3 id="subárbol">Subárbol</h3>

<p>No se requiere ningún comando especial</p>


</div>

<div class="col-md-12">
<h1>Cambiar de rama</h1>
</div>

<div class="col-md-6">

<h3 id="submódulo">Submódulo</h3>

<p>De forma predeterminada, el árbol de trabajo del submódulo no se actualiza para que coincida con el commit registrado en el superproyecto al cambiar de rama.
Necesita usar <code class="language-plaintext highlighter-rouge">git submodule update</code>, o agregar<code class="language-plaintext highlighter-rouge">--recurse-submodules</code> a <code class="language-plaintext highlighter-rouge">checkout</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout &lt;branch&gt;
git submodule update <span class="nt">--recursive</span>
<span class="c"># o, en un comando (Git &gt;= 2.13)</span>
git checkout <span class="nt">--recurse-submodules</span> &lt;branch&gt;
</code></pre></div></div>


</div>

<div class="col-md-6">

<h3 id="subárbol">Subárbol</h3>

<p>No se requiere ningún comando especial</p>


</div>

<div class="col-md-12">
<h1>Descargar actualizaciones de Subproyectos</h1>
</div>

<div class="col-md-6">

<h3 id="submódulo">Submódulo</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Actualiza el repositorio de submódulos</span>
git submodule update <span class="nt">--remote</span>
<span class="c"># Registra los cambios en el superproyecto</span>
git commit <span class="nt">-am</span> <span class="s2">"Update submodule"</span>
</code></pre></div></div>

<p>Si tiene más de un submódulo, puede agregar la ruta al submódulo al final del comando <code class="language-plaintext highlighter-rouge">git submodule update --remote</code> para especificar qué subproyecto actualizar.</p>

<p>Por defecto, <code class="language-plaintext highlighter-rouge">git submodule update --remote</code> actualizará el submódulo al último commit en la rama<code class="language-plaintext highlighter-rouge">main</code> del submódulo remoto.</p>

<p>Se puede cambiar la rama predeterminada para futuras llamadas con:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Git &gt;= 2.22</span>
git submodule set-branch other-branch
<span class="c"># o</span>
git config <span class="nt">-f</span> .gitmodules submodule.example-submodule.branch otra-rama
</code></pre></div></div>


</div>

<div class="col-md-6">

<h3 id="subárbol">Subárbol</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git subtree pull --prefix=submodulo-ejemplo https://github.com/githubtraining/submodulo-ejemplo main --squash
</code></pre></div></div>

<p>Se puede acortar el comando agregando la URL del subárbol como remoto:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git remote add sub-remote https://github.com/githubtraining/submodulo-ejemplo.git
</code></pre></div></div>

<p>Se pueden utilizar los commandos add/pull de otras referencias reemplazando <code class="language-plaintext highlighter-rouge">main</code> con la referencia deseada (e.g. <code class="language-plaintext highlighter-rouge">stable</code>, <code class="language-plaintext highlighter-rouge">v1.0</code>).</p>


</div>

<div class="col-md-12">
<h1>Realizar cambios en un Subproyecto</h1>
En la mayoría de los casos, se considera una buena práctica realizar cambios en una copia (clon) separada del repositorio de subproyectos e incorporarlos al proyecto principal.
Cuando esto no sea práctico, siga estas instrucciones:
</div>

<div class="col-md-6">

<h3 id="submódulo">Submódulo</h3>

<p>Acceda al directorio del submódulo y cree una rama:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd example-submodule
git checkout -b nombre-rama main
</code></pre></div></div>

<p>Los cambios requieren dos commits, una en el repositorio del subproyecto y otra en el repositorio principal.
¡No olvides agregar tanto el submódulo como el superproyecto!</p>


</div>

<div class="col-md-6">

<h3 id="subárbol">Subárbol</h3>

<p>No se requiere ningún comando especial, los cambios se agregaran en la rama del proyecto principal.</p>

<p>Es posible crear commits mezclando cambios en el subproyecto y el proyecto principal, pero esto generalmente no se recomienda.</p>

</div>

<div class="col-md-12">
<h1>Subir cambios al repositorio del Subproyecto</h1>
</div>

<div class="col-md-6">

<h3 id="submódulo">Submódulo</h3>

<p>Mientras está en el directorio del submódulo:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push
</code></pre></div></div>

<p>O mientras está en el directorio principal:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push --recurse-submodules=on-demand
</code></pre></div></div>


</div>

<div class="col-md-6">

<h3 id="subárbol">Subárbol</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git subtree push --prefix=submodulo-ejemplo https://github.com/githubtraining/submodulo-ejemplo main
</code></pre></div></div>

</div>

<div class="col-md-12">
<h1>Configuraciones útiles para submódulos</h1>




<p>Siempre muestre el registro del submódulo cuando vea diferencias:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config --global diff.submodule log
</code></pre></div></div>

<p>Muestre un breve resumen de los cambios del submódulo en su mensaje <code class="language-plaintext highlighter-rouge">git status</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config --global status.submoduleSummary true
</code></pre></div></div>

<p>Haga que <code class="language-plaintext highlighter-rouge">push</code> sea predeterminado en <code class="language-plaintext highlighter-rouge">--recurse-submodules = on-demand</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config --global push.recurseSubmodules on-demand
</code></pre></div></div>

<p>Haga que todos los comandos (excepto <code class="language-plaintext highlighter-rouge">clone</code>) estén predeterminados en <code class="language-plaintext highlighter-rouge">--recurse-submodules</code> si admiten la bandera (esto funciona para <code class="language-plaintext highlighter-rouge">git pull</code> desde Git 2.15):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config --global submodule.recurse true
</code></pre></div></div>


</div>

  </div>
</div>

    </main>

    <footer class="color-bg-subtle border-top py-4 color-fg-muted text-center mt-6 flex-none">
  <span aria-label="Made with love by GitHub and friends">
    <a href="https://github.com/github/training-kit" class="color-fg-default mb-2">
      Made with <img class="emoji" title=":heart:" alt=":heart:" src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" height="20" width="20"> by <img class="emoji" title=":octocat:" alt=":octocat:" src="https://github.githubassets.com/images/icons/emoji/octocat.png" height="20" width="20">s and friends
    </a>
  </span>
  <div class="d-flex flex-justify-center text-uppercase text-bold my-1">
    <a href="/training-kit/preview/test-preview-fix/feed.xml" aria-label="Feed xml" class="d-flex flex-items-center color-fg-muted text-uppercase mr-4">
      <div class="d-flex mr-1"><svg class="octicon octicon-rss" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2.002 2.725a.75.75 0 01.797-.699C8.79 2.42 13.58 7.21 13.974 13.201a.75.75 0 11-1.497.098 10.502 10.502 0 00-9.776-9.776.75.75 0 01-.7-.798zM2 13a1 1 0 112 0 1 1 0 01-2 0zm.84-5.95a.75.75 0 00-.179 1.489c2.509.3 4.5 2.291 4.8 4.8a.75.75 0 101.49-.178A7.003 7.003 0 002.838 7.05z"></path></svg></div>
      
    </a>
    <a href="https://github.community" class="d-flex flex-items-center color-fg-muted text-uppercase"><div class="d-flex mr-1"><svg class="octicon octicon-organization" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 14.25c0 .138.112.25.25.25H4v-1.25a.75.75 0 01.75-.75h2.5a.75.75 0 01.75.75v1.25h2.25a.25.25 0 00.25-.25V1.75a.25.25 0 00-.25-.25h-8.5a.25.25 0 00-.25.25v12.5zM1.75 16A1.75 1.75 0 010 14.25V1.75C0 .784.784 0 1.75 0h8.5C11.216 0 12 .784 12 1.75v12.5c0 .085-.006.168-.018.25h2.268a.25.25 0 00.25-.25V8.285a.25.25 0 00-.111-.208l-1.055-.703a.75.75 0 11.832-1.248l1.055.703c.487.325.779.871.779 1.456v5.965A1.75 1.75 0 0114.25 16h-3.5a.75.75 0 01-.197-.026c-.099.017-.2.026-.303.026h-3a.75.75 0 01-.75-.75V14h-1v1.25a.75.75 0 01-.75.75h-3zM3 3.75A.75.75 0 013.75 3h.5a.75.75 0 010 1.5h-.5A.75.75 0 013 3.75zM3.75 6a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5zM3 9.75A.75.75 0 013.75 9h.5a.75.75 0 010 1.5h-.5A.75.75 0 013 9.75zM7.75 9a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5zM7 6.75A.75.75 0 017.75 6h.5a.75.75 0 010 1.5h-.5A.75.75 0 017 6.75zM7.75 3a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5z"></path></svg></div> Community</a>
  </div>

  <p>© 2025 GitHub, Inc.   <a href="https://jekyllrb.com" rel="nofollow" class="color-fg-default">Jekyll</a> &amp;
    <a href="https://github.com/primer/primer-css" rel="nofollow" class="color-fg-default">Primer</a>.
  </p>
</footer>

  </body>
</html>